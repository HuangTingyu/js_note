<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>惰性单例</title>
</head>

<body>
    <button id="loginBtn">登录</button>
    <script>
        // var createLoginLayer = (function() {
        //     var div
        //     return function() {
        //         if (!div) {
        // var div = document.createElement('div')
        // div.innerHTML = '我是登录窗'
        // div.style.display = 'none'
        // document.body.appendChild(div)
        //         }
        //         return div
        //     }
        // })()
        // document.getElementById('loginBtn').onclick = function() {
        //     var loginLayer = createLoginLayer()
        //     loginLayer.style.display = 'block'
        // }
        // var CreateDiv = function(html) {
        //     this.init()
        // }
        // CreateDiv.prototype.init = function() {
        //     var div = document.createElement('div')
        //     div.innerHTML = '我是登录窗'
        //     div.style.display = 'none'
        //     document.body.appendChild(div)
        // }
        // var proxySingleton = function() {
        //     var instance;
        //     return function() {
        //         if (!instance) {
        //             instance = new createDiv()
        //         }
        //         return instance
        //     }
        // }
        var getSingle = function(fn) {
            var result;
            return function() {
                return result || (result = fn.apply(this, arguments));
            }
        }
    </script>
</body>

</html>